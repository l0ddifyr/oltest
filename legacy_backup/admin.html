<!doctype html>
<html lang="no">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin â€“ JuleÃ¸l-test ğŸº</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <h1>Admin ğŸº</h1>

  <div id="sectionLogin" class="card">
    <h2>Logg inn</h2>
    <input id="email" placeholder="E-post" style="margin-bottom:10px" />
    <input id="pass" placeholder="Passord" type="password" />
    <button id="loginBtn">Logg inn</button>
  </div>

  <div id="sectionPicker" class="card hidden">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h2>Dine Ã¸lsmakinger</h2>
      <button id="logoutBtn" class="secondary" style="width:auto; margin:0; padding: 8px 12px;">Logg ut</button>
    </div>

    <label>Velg eksisterende</label>
    <select id="olsSelect">
      <option value="">Laster...</option>
    </select>

    <hr>

    <h3>Opprett ny test</h3>
    <input id="title" placeholder="Navn (f.eks. JuleÃ¸l 2025)" style="margin-bottom:10px" />
    <input id="totalBeers" type="number" placeholder="Antall Ã¸l totalt" />
    <button id="createOlsBtn">Start ny Ã¸lsmaking</button>
  </div>

  <div id="sectionControl" class="hidden">

    <div class="card" style="text-align: center; border: 2px solid #d4a017;">
      <div style="display:flex; justify-content: space-between; align-items: center;">
        <button id="backToPicker" class="secondary" style="width:auto; margin:0; padding: 6px 12px; font-size: 12px;">â—€
          Bytt test</button>
        <span class="pill info" id="displayJoinCode">KODE: â€”</span>
      </div>

      <div class="muted" id="displayTitle" style="margin-top:10px">...</div>
      <div id="currentBeerText">Ã˜l #1</div>

      <div class="row">
        <button id="prevBeerBtn" class="secondary">â—€ Forrige</button>
        <button id="nextBeerBtn">Neste Ã¸l â–¶</button>
      </div>
    </div>

    <div class="card">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <h3 style="margin:0">Status deltakere</h3>
        <span class="pill" id="totalVotersCount">0 pÃ¥meldte</span>
      </div>
      <div class="muted">Alle i rommet:</div>
      <div id="allParticipants" style="padding: 10px 0; border-bottom: 1px solid #f9f9f9; margin-bottom: 10px;">â€”</div>

      <div class="muted">Har stemt pÃ¥ <b>Ã˜l #<span id="progressBeerNo">1</span></b>:</div>
      <div id="voterList" style="min-height: 30px; padding: 10px 0;">â€”</div>
    </div>

    <div class="card">
      <details>
        <summary style="cursor:pointer; font-weight:600; padding: 5px;">ğŸº Fasit & Ã˜lliste (Etterarbeid)</summary>

        <div style="margin-top:15px; background: #f9f9f9; padding: 15px; border-radius: 12px;">
          <label>1. Legg til Ã¸l i poolen (fÃ¸r/under test)</label>
          <div class="row">
            <input id="newBeerName" placeholder="Ã˜lnavn..." style="flex:2" />
            <button id="addBeerToPoolBtn" style="margin:0; flex:1">Legg til</button>
          </div>
        </div>

        <div style="margin-top:15px; background: #fff9eb; padding: 15px; border-radius: 12px;">
          <label>2. Koble navn til nummer (etter test)</label>
          <div class="row">
            <select id="beerPoolSelect" style="flex:2">
              <option>Laster...</option>
            </select>
            <input id="assignBeerNo" type="number" placeholder="Nr" style="flex:0.5" />
            <button id="saveToFasitBtn" style="margin:0; flex:1">Lagre</button>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th>#</th>
              <th>Ã˜l</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="beerRows"></tbody>
        </table>

        <hr>
        <button id="revealBtn" style="background: #2e7d32;">ğŸ”“ Reveal Resultater for alle</button>
        <div style="text-align:center; margin-top:10px;"><span id="revealStatusPill" class="pill">Status: Skjult</span>
        </div>
      </details>
    </div>
  </div>

  <script type="module" src="admin.js"></script>
</body>

</html>